<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Introduction to JavaScript</title>
    <link rel="stylesheet" href="bootstrap.css">
    <link rel="stylesheet" href="intro.css">
</head>
<body>
    <div class="container">
        <div class="page-header">
            <h1>Introduction to JavaScript</h1>
        </div>

        <p class="lead">Tic-tac-toe, implemented in JavaScript.</p>

        <div id="message" class="alert alert-info"></div>

        <table id="gameBoard">
        <tr>
            <td>&nbsp;</td>
            <td class="center">&nbsp;</td>
            <td>&nbsp;</td>
        </tr>
        <tr>
            <td class="middle">&nbsp;</td>
            <td class="middle center">&nbsp;</td>
            <td class="middle">&nbsp;</td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td class="center">&nbsp;</td>
            <td>&nbsp;</td>
        </tr>
        </table>

        <button id="startOver" class="btn">Start Over</button>

    </div>

    <script>
        // TODO: Declare a global variable for data structure.
        var board;

        function newGame() {
            // TODO: Initialize the data structure.
            board = [
                [ null, null, null ],
                [ null, null, null ],
                [ null, null, null ]
            ];
        }

        function takeTurn(player, x, y) {
            // TODO: Update data structure. player is "X" or "O". x and y are 0, 1, or 2.
            board[y][x] = player;

            // TODO: Return true if player just won the game.
            return isGameOver();
        }

        function isGameOver() {
            return isHorizontalWin() || isVerticalWin() || isDiagonalWin();
        }

        function isHorizontalWin() {
            for (var y = 0; y < 3; y++) {
                var row = board[y];

                if (row[0] && row[0] === row[1] && row[1] === row[2]) {
                    return true;
                }
            }

            return false;
        }

        function isVerticalWin() {
            for (var x = 0; x < 3; x++) {
                if (board[0][x] && board[0][x] === board[1][x] && board[1][x] === board[2][x]) {
                    return true;
                }
            }

            return false;
        }

        function isDiagonalWin() {
            return (
                (board[0][0] && board[0][0] === board[1][1] && board[1][1] === board[2][2]) ||
                (board[0][2] && board[0][2] === board[1][1] && board[1][1] === board[2][0])
            );
        }
    </script>

    <script src="intro.js"></script>
</body>
</html>
